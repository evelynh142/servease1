<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Restaurant</title>

    <!-- Styles -->
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        text-align: center;
      }

      #receivedCommand {
        margin-top: 20px;
        padding: 10px 20px;
        border: 1px solid #ccc;
        display: inline-block;
        font-size: 16px;
      }
    </style>
  </head>

  <body>
    <h1>Receiver Website</h1>
    <div id="receivedCommand">No command</div>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "firebase/app";
      import { getAnalytics } from "firebase/analytics";
      import { getDatabase } from "firebase/database";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyCBDOxKG6pujHdspdngO5Fc6AmpIq0AjDU",
        authDomain: "dubhusky-50ac6.firebaseapp.com",
        databaseURL: "https://dubhusky-50ac6-default-rtdb.firebaseio.com",
        projectId: "dubhusky-50ac6",
        storageBucket: "dubhusky-50ac6.appspot.com",
        messagingSenderId: "92307109872",
        appId: "1:92307109872:web:3b57b674200059698e4f35",
        measurementId: "G-8DK39SYPPY",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      firebase.analytics();
      const database = getDatabase(app);

      // Listen for Changes in "command" Node
      database.ref("command").on("value", function (snapshot) {
        const command = snapshot.val() || "No command";
        document.getElementById("receivedCommand").innerText = command;
      });
    </script>
  </body>
</html>
